{% extends 'base.html' %}
{% load bootstrap %}

    {% block main %}
    {% csrf_token %}
    <!-- titulo -->
    <h1 class="h3 mb-4 text-gray-800">{{titulo}}</h1>
    <hr class="sidebar-divider d-none d-md-block">
    
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">{{subtitle}}</h6>
        </div>
        <div class="card-body">
            <!-- Formulario aluno -->
            <form action="{% url 'novo_aluno' %}" method="POST"
                enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-row">
                    <div class="col-sm-2"></div>
                    <div class="col-sm-8">
                        <!-- <h1>Novo aluno</h1> -->
                        <div class="alert alert-primary" role="alert">
                            Preencha todos os campos obrigatórios.
                        </div> 
                        <hr>
                        {% csrf_token %}
                        {{ form|bootstrap }}
                        <br>
                        <button class="btn btn-success" type="submit">
                            Salvar
                        </button>
                        <a class="btn btn-warning" type="button" 
                            onclick="alerta()" href="{% url 'home' %}">
                            Voltar
                        </a>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script>
        function salvo(){
            alert("Registro salvo com sucesso!");
        }
        function alerta(){
            alert("Ao voltar o registo não ser salvo!");
        }
    </script>
    {% endblock %}

    {% block scripts %}
    <script>
        $(document).ready(function () {
            $("#id_data").mask('00/00/0000');
            $("#id_cpf").mask('000.000.000-00', {reverse: true});
            // Telefone
            var SPMaskBehavior = function (val) {
                return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
            },
                spOptions = {
                    onKeyPress: function(val, e, field, options) {
                    field.mask(SPMaskBehavior.apply({}, arguments), options);
                    }
                };

            $('#id_telefone').mask(SPMaskBehavior, spOptions);
            $("#id_cep").mask('00000-000');
            // TelefoneResp
            var SPMaskBehavior = function (val) {
                return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
            },
                spOptions = {
                    onKeyPress: function(val, e, field, options) {
                    field.mask(SPMaskBehavior.apply({}, arguments), options);
                    }
                };

            $('#id_telefoneResp').mask(SPMaskBehavior, spOptions);
            
            
        });
    </script>
    {% endblock %}
        